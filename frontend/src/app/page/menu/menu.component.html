<div class="container pt-3">
  <hr>
  <hr>
  <div class="button-group d-flex flew-row justify-content-center">
    <button mat-raised-button color="add" class="mr-3 pt-3 pb-1" (click)="weekButton(0)">
      <h4>{{ weekNumber }}. {{ weekText }}</h4>
    </button>
    <button mat-raised-button color="add" class="mr-3 pt-3 pb-1" (click)="weekButton(1)">
      <h4>{{ weekNumber + 1 }}. {{ weekText }}</h4>
    </button>
    <button mat-raised-button color="add" class="pt-3 pb-1" (click)="weekButton(2)">
      <h4>{{ weekNumber + 2 }}. {{ weekText }}</h4>
    </button>
  </div>
  <hr>
  <hr>
</div>

<div class="spinner d-flex justify-content-center my-5" *ngIf="!menus$">
  <mat-progress-bar mode='indeterminate' class="w-50"></mat-progress-bar>
</div>

<div *ngIf="menus$ | async as menu;" class="container-fluid pb-5 mb-5">
  <div class="row border border-dark d-flex flex-row menu_thead">
    <mat-card class="menu-card menu_thead menu_tkey h-auto text-center">
      <mat-card-content>
        <h5>{{ menuCardHeaderText[0].name }}</h5>
      </mat-card-content>
    </mat-card>
    <mat-card class="menu-card menu_thead menu_name h-auto text-center">
      <mat-card-content>
        <h5>{{ menuCardHeaderText[1].name }}</h5>
      </mat-card-content>
    </mat-card>
    <div *ngFor="let day of dayIndex" class="menu_card px-0 text-center">
      <mat-card class="menu-card h-auto menu_thead">
        <mat-card-content>
          <h5>{{ menuCardHeaderText[day+2].name }}</h5>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <div *ngFor="let index of primeIndex" class="row border border-dark d-flex flex-row">
    <mat-card class="menu-card menu_key h-auto d-flex align-items-center border-0 rounded-0"
      [ngClass]="menuCardText[index].class">
      <mat-card-content>
        <p>{{ menuCardText[index].key }}</p>
      </mat-card-content>
    </mat-card>
    <mat-card class="menu-card menu_name h-auto d-flex align-items-center border-0 rounded-0"
      [ngClass]="menuCardText[index].class">
      <mat-card-content>
        <p>{{ menuCardText[index].name }}</p>
        <p class="text-muted">{{ priceArray[index] | customCurrency }} / {{priceOfDayText}}</p>
        <p class="text-muted">{{ (priceArray[index] * 5) | customCurrency }} / {{priceOfWeekText}}</p>
      </mat-card-content>
    </mat-card>
    <div *ngFor="let day of dayIndex" class="menu_card px-0">
      <app-base-menu-card *ngIf="index === 0" [menuName1]="menu[week][menuVariable[0]][day].name"
        [allergensSoup]="menu[week][menuVariable[0]][day].allergens" [weightSoup]="weightSoupArray[index]"
        [imgLinkSoup]="menu[week][menuVariable[0]][day].img" [menuName2]="menu[week][menuVariable[1]][day].name"
        [allergens]="menu[week][menuVariable[1]][day].allergens" [weight]="weightArray[index]" [unit]="unit[2].name"
        [imgLink]="menu[week][menuVariable[1]][day].img">
      </app-base-menu-card>
      <app-base-menu-card *ngIf="index >= 1" [menuName1]="menu[week][menuVariable[index + 1]][day].name"
        [allergensSoup]="menu[week][menuVariable[index + 1]][day].allergens" [weightSoup]="weightSoupArray[index]"
        [imgLinkSoup]="menu[week][menuVariable[index + 1]][day].img"
        [menuName2]="menu[week][menuVariable[index + 2]][day].name"
        [allergens]="menu[week][menuVariable[index + 2]][day].allergens" [weight]="weightArray[index]"
        [unit]="unit[2].name" [imgLink]="menu[week][menuVariable[index + 2]][day].img">
      </app-base-menu-card>
    </div>
  </div>

  <hr>
  <hr>

  <div class="row border border-dark d-flex flex-row menu_thead">
    <mat-card class="menu-card menu_thead menu_tkey h-auto text-center">
      <mat-card-content>
        <h5>{{ menuCardHeaderText[0].name }}</h5>
      </mat-card-content>
    </mat-card>
    <mat-card class="menu-card menu_thead menu_name h-auto text-center">
      <mat-card-content>
        <h5>{{ menuCardHeaderText[1].name }}</h5>
      </mat-card-content>
    </mat-card>
    <div *ngFor="let day of dayIndex" class="menu_card px-0 text-center">
      <mat-card class="menu-card h-auto menu_thead">
        <mat-card-content>
          <h5>{{ menuCardHeaderText[day+2].name }}</h5>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <div *ngFor="let index of optionIndex" class="row border border-dark d-flex flex-row">
    <mat-card class="menu-card menu_key h-auto d-flex align-items-center border-0 rounded-0"
      [ngClass]="menuCardText[index + 7].class">
      <mat-card-content>
        <p>{{ menuCardText[index + 7].key }}</p>
      </mat-card-content>
    </mat-card>
    <mat-card class="menu-card menu_name h-auto d-flex align-items-center border-0 rounded-0"
      [ngClass]="menuCardText[index + 7].class">
      <mat-card-content>
        <p>{{ menuCardText[index + 7].name }}</p>
        <p class="text-muted">{{ priceArray[index + 7] | customCurrency }} / {{priceOfDayText}}</p>
        <p class="text-muted">{{ (priceArray[index + 7] * 5) | customCurrency }} / {{priceOfWeekText}}</p>
      </mat-card-content>
    </mat-card>
    <div *ngFor="let day of dayIndex" class="menu_card px-0">
      <app-base-menu-card [menuName1]="menu[week][menuVariable[index + 12]][day].name"
        [allergens]="menu[week][menuVariable[index + 12]][day].allergens" [weight]="weightArray[index + 7]"
        [unit]="unit[2].name" [imgLink]="menu[week][menuVariable[index + 12]][day].img">
      </app-base-menu-card>
    </div>
  </div>

  <hr>
  <hr>

  <div class="row border border-dark d-flex flex-row menu_thead">
    <mat-card class="menu-card menu_thead menu_tkey h-auto text-center">
      <mat-card-content>
        <h5>{{ menuCardHeaderText[0].name }}</h5>
      </mat-card-content>
    </mat-card>
    <mat-card class="menu-card menu_thead menu_name h-auto text-center">
      <mat-card-content>
        <h5>{{ menuCardHeaderText[1].name }}</h5>
      </mat-card-content>
    </mat-card>
    <div *ngFor="let day of dayIndex" class="menu_card px-0 text-center">
      <mat-card class="menu-card h-auto menu_thead">
        <mat-card-content>
          <h5>{{ menuCardHeaderText[day+2].name }}</h5>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
  <div *ngFor="let imenu of iMenuItem; index as i" class="row border border-dark d-flex flex-row">
    <mat-card class="menu-card menu_I menu_key h-auto d-flex align-items-center border-0 rounded-0">
      <mat-card-content>
        <p>{{ menuCardText[12].key }}{{i+1}}</p>
      </mat-card-content>
    </mat-card>
    <mat-card class="menu-card menu_I menu_name h-auto d-flex align-items-center border-0 rounded-0">
      <mat-card-content>
        <p>{{ menuCardText[12].name }}</p>
        <p class="text-muted">{{ priceArray[12] | customCurrency }} / {{priceOfDayText}}</p>
        <p class="text-muted">{{ (priceArray[12] * 5) | customCurrency }} / {{priceOfWeekText}}</p>
      </mat-card-content>
    </mat-card>
    <div *ngFor="let day of dayIndex" class="menu_card px-0">
      <app-base-menu-card [menuName1]="imenu.name" [weight]="weightArray[12]" [unit]="unit[1].name"
        [imgLink]="imenu.img" [isDrink]="true">
      </app-base-menu-card>
    </div>
  </div>
</div>

<div class="my-5 py-5">
  <hr>
  <hr>
</div>
